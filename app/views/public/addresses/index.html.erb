<h1 class="page_title">Create Address</h1>

<div class="container">
  <%= form_with model: @address, url: addresses_path, local: true do |f| %>
    <%= render 'parts/user/error_message', model: f.object %>
    <div class="form-inline col-form-label-sm ml-5">
      <%= f.label :'郵便番号（ハイフン無し）　　　　　　　　' %>
      <%= f.text_field :postal_code, class:"form-control", placeholder:'0000000(半角)', autofocus: true %>
    </div>

    <div class="form-inline col-form-label-sm ml-5">
      <%= f.label :'住所　　　　　　　　　　　　　　　　　　' %>
      <%= f.text_field :address, class:"form-control", size: 65, placeholder:'東京都世田谷区0-0-0　東京マンション202' %>
    </div>

    <div class="form-inline col-form-label-sm ml-5">
      <%= f.label :'宛名　　　　　　　　　　　　　　　　　　' %>
      <%= f.text_field :name, class:"form-control", placeholder:'山田太郎' %>
      <%= f.submit "Create", class:"btn btn-success ml-5 btn-sm w-25" %>
    </div>
  <% end %>
</div>

<div class="page_title">
  <h1>Addresses</h1>
</div>
<div class="container">
  <table class="table">
    <% @addresses.each do |address| %>
      <tr>
        <td>〒
          <%= (address.postal_code).to_s.insert(3, "-") %><br>
          <%= address.address %><br>
          <%= address.name %>
        </td>
        <td class="align-middle">
          <%= link_to '　Edit　', edit_address_path(address), class:"btn btn-success mr-5" %>
          <%= link_to 'Delete', address_path(address), method: :delete, data: {confirm: '削除しますか？'},  class:"btn btn-danger" %>
        </td>
      </tr>
    <% end %>
  </table>
</div>