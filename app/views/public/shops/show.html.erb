<div class="page_title">
  <h4><%= @shop.name %></h4>
  <% if @shop.user_id == current_user.id %>
    <div class="ml-auto"><%= link_to "Edit Shop", edit_shop_path(@shop), class:"btn btn-outline-primary btn-sm bg-white" %></div>
  <% end %>
</div>
<div class="container">
  <div class="d-flex justify-content-between my-3">
    <%= attachment_image_tag @shop, :image, fallback: "no_image.jpg", size: "220x220" %>
    <%= attachment_image_tag @add_shop_images, :image, fallback: "no_image.jpg", size: "220x220" %>
    <%= attachment_image_tag @add_shop_images, :image, fallback: "no_image.jpg", size: "220x220" %>
    <%= attachment_image_tag @add_shop_images, :image, fallback: "no_image.jpg", size: "220x220" %>
  </div>
</div>

<div class="page_title">
  <h5>Items</h5>
</div>
<div class="container">
  <div class="d-flex my-3">
    <% @items.each do |item| %>
      <%= link_to item_path(item) do %>
        <div class="d-flex flex-column">
          <div class="mr-3"><%= attachment_image_tag item, :image, fallback: "no_image.jpg", size: "220x220" %></div>
          <p class="text-center mt-1"><%= item.name %></p>
        </div>
      <% end %>
    <% end %>
  </div>
  <div class="d-flex">
    <div class="ml-auto"><%= paginate @items %></div>
  </div>
</div>

<div class="page_title">
  <h5>Introduction</h5>
</div>
<div class="container m-5">
  <p><%= @shop.introduction %></p>
</div>

<% if @shop.address? %>
  <div class="page_title">
    <h5>Shop Address</h5>
  </div>
  <div class="container m-5">
    <p><%= @shop.prefectures + @shop.address %></p>
  </div>
<% end %>

<% if @shop.official_hp? %>
  <div class="page_title">
    <h6>Official Hp</h6>
  </div>
  <div class="container my-2 ml-4">
    <%= text_url_to_link(h(@shop.official_hp)).html_safe %>
  </div>
<% end %>

<% if @shop.user_id == current_user.id %>
  <div class="text-right mr-3 mt-5 mb-2">
    <%= link_to 'Shop Delete', shop_path(@shop), method: :delete, data: {confirm: '本当にショップを削除しますか？'},  class:"btn btn-danger btn-lg" %>
  </div>
<% end %>